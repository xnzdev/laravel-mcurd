# Laravel-Gii Visual code generation tool CRUD + GUI

[![Packagist Version](https://img.shields.io/packagist/v/sunshinev/laravel-gii)](https://packagist.org/packages/sunshinev/laravel-gii)
[![Travis (.com)](https://img.shields.io/travis/com/sunshinev/laravel-gii)](https://travis-ci.com/sunshinev/laravel-gii/)
![GitHub last commit](https://img.shields.io/github/last-commit/sunshinev/laravel-gii)
![GitHub](https://img.shields.io/github/license/sunshinev/laravel-gii)
![GitHub repo size](https://img.shields.io/github/repo-size/sunshinev/laravel-gii)
![GitHub stars](https://img.shields.io/github/stars/sunshinev/laravel-gii?style=social)
![GitHub forks](https://img.shields.io/github/forks/sunshinev/laravel-gii?style=social)

[中文Wiki](https://github.com/sunshinev/laravel-gii/blob/master/README_zh_CN.md)

> Laravel Gii provides a new possibility for quickly creating management backends for small and medium-sized projects. In the process of using, you will find that it is very lightweight, has a high degree of freedom, and the internal implementation logic is simple.
>
> Especially for developers who are familiar with iView, on the pages generated by Gii, you can customize the page according to your needs. You can construct more complex management pages by modifying the default Input component to other feature-rich iView components.
>
> You will find that it does not provide user login and permission functions. Instead, it only provides more lightweight page creation. This will make many developers feel more comfortable and can freely and flexibly adjust and customize pages to achieve different ability.
>
> Thanks for your support, and welcome your comments in Issue
>
> Get started


[![e1daf65668566cd8f7dd417211820a091576311651.jpg](https://github.com/sunshinev/remote_pics/raw/master/e1daf65668566cd8f7dd417211820a091576311651.jpg)](https://sunshinev.github.io/laravel-gii-home/index.html)

[TOC]

## Principle

1. Extract the fields and types by parsing the MySQL data table structure and populate the `stub` template.
2. Generate the corresponding Model, Observer, Controller, View, Route and other related project files.
3. Generate Model Based on MySQL Table Structure
4. Generate Controller based on Model

## Official Website

https://sunshinev.github.io/laravel-gii-home

## Note
Because it parses the MySQL table structure and generates templates based on the fields, the currently generated Model classes only support MySQL, but the generated CRUD management background can use two connections that support mongo and MySQL.

The MySQL table structure must ensure that the three fields `id`,` created_at` and `updated_at` must exist.

## Installation

### Expansion Pack

```
composer require sunshinev/laravel-gii -vvv
```

### Post
> This operation will publish assets static files to the public directory

```
php artisan vendor:publish --tag laravel-gii
```


### Visit
After the publication is completed, the route has been registered. You can access the Gii page through the route below.
```
http://[domain]/gii/model
```


## Instructions

### Generate Model

Form description

1. Table name (support drop-down selection)
2. Model class name (want to create model classes, including namespaces)
3. The parent class of model inheritance (If it is Mongo, it can inherit `Jenssegers\Mongodb\Eloquent\Model`, MySQL uses` Illuminate\Database\Eloquent\Model`)

The generated file list, blue represents a new file, red represents an existing file but different, and white represents an existing file.

For example, if the specified Model namespace is `App\Models\Admin\Users`, then the generated directory structure is:
```
    .app
    ├── Models
    │   └── Admin
    │       ├── UsersModel.php
    │       └── Users.php
    └── Observers
        └── Models
            └── Admin
                └── UsersObserver.php

```
Through the above structure, we can discover the relationship between the namespace and the directory.

![image](https://github.com/sunshinev/remote_pics/raw/master/laravel-gii/gii-model-preview.gif)


### Generate CRUD

The creation of CRUD depends on the previously created model.

This operation will also generate:

- route
- controller
- views

Form description

Controller name (including namespace)
2. The model class created earlier

If the Controller class is specified as `App\Http\Controllers\Admin\UsersController` and the associated Model is` App\Models\Admin\Users`, the generated directory structure is:
```
    app
    ├── Http
    │   └── Controllers
    │       └── Admin
    │           ├── RenderController.php
    │           └── UsersController.php
    ├── Models
    │   └── Admin
    │       ├── UsersModel.php
    │       └── Users.php
    └── Observers
        └── Models
            └── Admin
                └── UsersObserver.php
```

And the generated view files
```
.resources
    └── views
        └── admin
            ├── layouts
            │   └── default.blade.php
            └── users
                ├── create.blade.php
                ├── detail.blade.php
                ├── edit.blade.php
                └── list.blade.php
```

Through the above structure, we can discover the relationship between the namespace and the directory.

![85bce766f1a574d97ac931c8b98c29591576222771.jpg](https://github.com/sunshinev/remote_pics/raw/master/85bce766f1a574d97ac931c8b98c29591576222771.jpg)

#### How to access CRUD?

The CRUD route will be automatically added to the route file. According to the Controller's namespace `App\Http\Controllers\Admin\UsersController`, the following route will be generated, so please directly access the route
```
Route :: get ('/admin/layout', 'Admin\RenderController @ index');
Route :: get ('/admin/layout/render', 'Admin\RenderController @ render');
```



## Features
#### MySQL list loading
Pull list from configured MySQL database
![135efc4b0abc7a7baf67793fb8de30901576222494.jpg](https://github.com/sunshinev/remote_pics/raw/master/135efc4b0abc7a7baf67793fb8de30901576222494.jpg)

#### File comparison

The tool will compare the newly generated file with the existing file, which is convenient for viewing the modified part and controlling the scope of the modification.

![image](https://github.com/sunshinev/remote_pics/raw/master/laravel-gii/gii-generate.gif)

#### Route Append
Newly generated pages are automatically appended to the routing configuration file
![b58eb0bd955bafea27540d6227e611731576209355.jpg](https://github.com/sunshinev/remote_pics/raw/master/b58eb0bd955bafea27540d6227e611731576209355.jpg)


## CRUD background effects

#### List
Includes comprehensive additions, deletions, and changes

- List
- Pagination
- Retrieve
- Delete + batch delete
- Preview
- Details
- Edit

![a7124e651545e7f462e898ffb37704a41576223115.jpg](https://github.com/sunshinev/remote_pics/raw/master/a7124e651545e7f462e898ffb37704a41576223115.jpg)

#### delete + batch delete
Cancel button zoom in to prevent accidental deletion

![fa926f38e95888fd4a3c3aa055d202f41576223165.jpg](https://github.com/sunshinev/remote_pics/raw/master/fa926f38e95888fd4a3c3aa055d202f41576223165.jpg)


#### Row Preview
![0b2b1603c043aec9b5cee84a17e26f291576223207.jpg](https://github.com/sunshinev/remote_pics/raw/master/0b2b1603c043aec9b5cee84a17e26f291576223207.jpg)


#### Edit page
![bc43b30f13de17e0a2a899a59f647d3a1576223248.jpg](https://github.com/sunshinev/remote_pics/raw/master/bc43b30f13de17e0a2a899a59f647d3a1576223248.jpg)


## Suggest

#### What if you want to use Mongo?
If the Model is generated, the connection configured in the env will be used by default. If you need to adjust, you need to modify the generated Model file.
```php
    // if connection is empty, use default connection
    protected $ connection = '';
```

#### How do background pages support other components?
The background page uniformly uses iview as the front-end framework. Currently all components of iview4 are supported. You can add components directly to the generated blade template file.

[iviewuidocument](https://www.iviewui.com/docs/i
